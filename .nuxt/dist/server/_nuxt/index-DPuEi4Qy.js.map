{"version":3,"file":"index-DPuEi4Qy.js","sources":["../../../../pages/login/index.vue"],"sourcesContent":["<template>\n  <div>\n    <form @submit.prevent=\"login\">\n      <div>\n        <label for=\"phoneNumber\">Phone Number</label>\n        <input class=\"input input-bordered\" v-model=\"phoneNumber\" type=\"text\" id=\"phoneNumber\" required />\n        <p v-if=\"loginError\" class=\"text-red-500 mt-1\">{{ loginError }}</p>\n      </div>\n      <button type=\"submit\">Login</button>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport { useAuthStore } from '#build/imports';\n\nconst authStore = useAuthStore()\nconst phoneNumber = ref('')\nconst router = useRouter()\n\nconst loginError = ref('')\n\nconst login = async () => {\n  try {\n    const response = await $fetch('/api/auth/login', {\n      method: 'POST',\n      body: {\n        phoneNumber: phoneNumber.value,\n      },\n    });\n    authStore.login(response);\n  } catch (error) {\n    alert('เข้าสู่ระบบไม่สำเร็จ')\n    console.error('Login failed', error);\n    loginError.value = 'เบอร์โทรศัพท์ไม่ถูกต้อง';\n  }\n};\n</script>\n\n<style>\n\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAgBkB,iBAAY;AAC9B,UAAM,cAAc,IAAI,EAAE;AACX,cAAS;AAExB,UAAM,aAAa,IAAI,EAAE;;;;;;;;;;;;;;;;;;"}